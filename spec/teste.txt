



                                                           C. KADJO MAMI
                                                            E. N'GUESSAN
                                                        Telecom Bretagne
                                                       February 28, 2019


     Group 17: c2w protocol specification proposal (Binary Version)
                     draft-ietf-xml2rfc-template-05

Abstract

   Ce document presente la specification du protocole de communication
   utilise au sein de l'application c2w (Chat While Watching); Ce
   protocole permettra a tous les utilisateurs du meme type de salon
   (principal ou de visionnement d'une video) de s'echanger des
   messages.

Table of Contents

   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   2
   2.  Fonctionnement  . . . . . . . . . . . . . . . . . . . . . . .   2
   3.  Types de paquet . . . . . . . . . . . . . . . . . . . . . . .   3
   4.  Format des Paquets  . . . . . . . . . . . . . . . . . . . . .   4
     4.1.  acquittement  . . . . . . . . . . . . . . . . . . . . . .   6
     4.2.  Erreur de sequence  . . . . . . . . . . . . . . . . . . .   7
     4.3.  Demande de connexion  . . . . . . . . . . . . . . . . . .   7
     4.4.  Erreur de connexion . . . . . . . . . . . . . . . . . . .   8
     4.5.  Connexion Reussie . . . . . . . . . . . . . . . . . . . .   8
     4.6.  Envoie liste des films  . . . . . . . . . . . . . . . . .   8
     4.7.  Envoie Liste des users  . . . . . . . . . . . . . . . . .   9
     4.8.  Avertissement Inactivite  . . . . . . . . . . . . . . . .  10
     4.9.  Avertissement SPAM  . . . . . . . . . . . . . . . . . . .  10
     4.10. Demande Acces film  . . . . . . . . . . . . . . . . . . .  11
     4.11. Envoie Message de Chat  . . . . . . . . . . . . . . . . .  11
     4.12. Quitter la MainRoom . . . . . . . . . . . . . . . . . . .  12
     4.13. Quitter un film . . . . . . . . . . . . . . . . . . . . .  12
     4.14. Message de deconnexion  . . . . . . . . . . . . . . . . .  13
   5.  Fiabilite . . . . . . . . . . . . . . . . . . . . . . . . . .  13
   6.  Exemple de scenario . . . . . . . . . . . . . . . . . . . . .  13
     6.1.  Scenario sans erreur 1: Regarder un film  . . . . . . . .  13
     6.2.  Scenario sans erreur 2: Chat dans une salle . . . . . . .  15
     6.3.  Scenario 3: Utilisateur inactif Dans la salle principale   16
     6.4.  Scenario sans erreur 4: Envoie de SPAM  . . . . . . . . .  17
     6.5.  Scenario avec erreur : Quitter l'application  . . . . . .  20
     6.6.  Scenario 6: Erreur de Sequence  . . . . . . . . . . . . .  22
   7.  Conclusion  . . . . . . . . . . . . . . . . . . . . . . . . .  22
   Authors' Addresses  . . . . . . . . . . . . . . . . . . . . . . .  22




KADJO MAMI & N'GUESSAN  Expires September 1, 2019               [Page 1]

                            Abbreviated Title              February 2019


1.  Introduction

   Dans le cadre de l'application c2w : Chat While Watching, ce document
   decrit la specification du protocole de communication utilise pour la
   mise en place de ladite application.  Cette application permet a un
   utilisateur, apres s'etre connecte, d'acceder a un certains nombres
   de videos, de pouvoir les regarder d'une part et, d'autre part, de
   pouvoir echanger des messages avec les utilisateurs se trouvant dans
   le meme salon.

   Le serveur communiquera avec les utilisateurs aussi bien en utilisant
   le protocole de transport TCP que le protocole UDP.  Les messages
   seront envoyes sous le format binaire.

   Dans la suite du document nous specifierons le fonctionnement du
   protocole, les types de messages envoyes, le format des differents
   messages et donnerons differents examples de scenarii pouvant arriver
   dans l'execution du protocole.

2.  Fonctionnement

   On suppose prealablement qu'un client possede necessairement un
   couple (adresse IP, port), distinct de tous les autres utilisateurs.
   Pour pouvoir utiliser l'application c2w, le client doit se connecter
   au serveur en entrant son pseudo choisi et le nom (ou l'adresse IP)
   du serveur.  Les noms d'utilisateurs seront en caracteres
   alphanumeriques, sans caracteres speciaux, et leur taille devra etre
   compris entre 4 et 32 caracteres.

   Il est a noter que le nom d'utilisateur peut etre refuse pour
   d'autres raisons: il peut etre deja utilise par un autre client
   connecte ou il peut faire partie de la liste des noms utilisateur
   bannis car juges offensant.

   Deux cas sont a analyser, le cas ou le serveur etablie la connexion
   et le cas ou il la refuse

   Premier cas: La connexion est etablie

   Il y a etablissement de connexion si et seulement si deux (2)
   conditions sont respectees:

   Le serveur n'est pas sature : Leur serveur est sature si il atteint
   le nombre maximal d'utilisateurs qu'il peut supporter en l'occurence
   128. si ce n'est pas le cas la connexion peut etre etablie.






KADJO MAMI & N'GUESSAN  Expires September 1, 2019               [Page 2]

                            Abbreviated Title              February 2019


   Le nom d'utilisateur est correct: Il respecte les conditions de
   taille, il est alphanumerique sans caracteres speciaux, il ne fait
   partie ni des pseudos existants ni des pseudos bannis.

   Une fois ces conditions satisfaites, le client est connecte.  Il
   accede au salon principal et recoit la liste des videos disponibles
   la liste de tous les utilisateurs connectes.  L'application precisera
   en outre si l'utilisateur est present dans la salle principale ou
   s'il est entrain de visionner une video.  La liste des utilisateurs
   recue par les autres utilisateurs est aussi actualisee.
   L'utilisateur pourra dialoguer avec les autres clients present dans
   son salon.  Pour changer de salon, le client envoie au serveur le
   nom, le port et l'adresse IP de la video qu'il souhaite visionner.
   Il se retrouve alors dans le salon de la video correspondant et
   recoit en meme temps la liste des utilisateurs regardant la meme
   video.  Ces derniers sont informes eux aussi de la venue d'un nouvel
   utilisateur.  Le client peut decider de quitter le salon principal ou
   un salon de visionnage a tout moment, en envoyant les messages
   correspondants.

   Il convient par ailleurs de preciser que le serveur se reserve le
   droit de deconnecter l'utilisateur dans deux (2) cas : En cas de
   longue periode d'inactivite dans la salle principale ou en cas de
   spam (envois repetitifs du meme message dans le chat).

   Deuxieme cas : La connexion est refusee

   La connexion echoue si l'une des deux conditions enoncees
   precedemment n'est pas respectee.  Le client recoit alors un message
   d'erreur et est invite a ressaisir ses acces.

3.  Types de paquet

   Ce tableau enumere l'ensemble des paquets qui seront utilises au sein
   de notre systeme.  Leur description se fera plus loin dans ce
   document, quand ils seront precises dans les formats de paquets.















KADJO MAMI & N'GUESSAN  Expires September 1, 2019               [Page 3]

                            Abbreviated Title              February 2019


    +------+--------------------------+-------------------------------+
    | code |       TypeDePaquet       |      Sens de Transmission     |
    +------+--------------------------+-------------------------------+
    | 0000 |       acquittement        |     Client <-----> Serveur     |
    | 0001 |   Demande de connexion   |     Client x-----> Serveur     |
    | 0010 |   Erreur de connexion    |     Client <-----x Serveur     |
    | 0011 |     Connexion Reussie    |     Client <-----x Serveur     |
    | 0100 |  Envoie liste des films  |     Client <-----x Serveur     |
    | 0101 |  Envoie liste de users   |     Client <-----x Serveur     |
    | 0110 | Avertissemnt Inactivite  |     Client <-----x Serveur     |
    | 0111 |    Avertissemnt SPAM     |     Client <-----x Serveur     |
    | 1000 |    Demande acces film    |     Client x-----> Serveur     |
    | 1001 |    Erreur de sequence    |     Client <-----> Serveur     |
    | 1010 |  Envoie message de Chat  |     Client <-----> Serveur     |
    | 1011 |   Quitter la Main room   |     Client x-----> Serveur     |
    | 1100 | Quitter un salon de film |     Client x-----> Serveur     |
    | 1101 |  Message de deconnexion  |     Client <-----x Serveur     |
    |______|__________________________|_______________________________|



                                 Figure 1

   Sens de Transmission

   1.  Client x-----> Serveur:

   2.  Client <-----x Serveur:

   3.  Client <-----> Serveur:

4.  Format des Paquets

   Describe the packet format and the headers.  For example, if you have
   a binary header, you can use a figure like the following example
   (where we have used the generic name "Field" for most of the fields,
   you should use the names corresponding to your solution):


       0                   1                   2                   3
       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       | Code  |        Sequence       |            Taille             |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+


                                 Figure 2




KADJO MAMI & N'GUESSAN  Expires September 1, 2019               [Page 4]

                            Abbreviated Title              February 2019


   Liste des champs :

   Code (4 bits)

           Code sur 4 bits il permet d'identifier les 14 differents
           types de paquets.

   Sequence (12 bits)

           Permet d'identifier le type de paquet recu.  Code sur 4 bits
           il permet de d'envoyer 16 types de paquets differents.

   Taille (16 bits)

           Permet d'identifier le type de paquet recu.  Code sur 4 bits
           il permet de d'envoyer 16 types de paquets differents.

   SequenceAttendue (12 bits)

           Permet d'identifier le type de paquet recu.  Code sur 4 bits
           il permet de d'envoyer 16 types de paquets differents.

   Temps (32 bits)

           Permet d'identifier le type de paquet recu.  Code sur 4 bits
           il permet de d'envoyer 16 types de paquets differents.

   Username (256 bits)

           Permet d'identifier le type de paquet recu.  Code sur 4 bits
           il permet de d'envoyer 16 types de paquets differents.

   MessageErreur (1024 bits)

           Permet d'identifier le type de paquet recu.  Code sur 4 bits
           il permet de d'envoyer 16 types de paquets differents.

   IdUser (7 bits)

           Permet d'identifier le type de paquet recu.  Code sur 4 bits
           il permet de d'envoyer 16 types de paquets differents.

   Adresse IP (32 bits)

           Permet d'identifier le type de paquet recu.  Code sur 4 bits
           il permet de d'envoyer 16 types de paquets differents.

   NumPort (16 bits)



KADJO MAMI & N'GUESSAN  Expires September 1, 2019               [Page 5]

                            Abbreviated Title              February 2019


           Permet d'identifier le type de paquet recu.  Code sur 4 bits
           il permet de d'envoyer 16 types de paquets differents.

   NomFilm (256 bits)

           Permet d'identifier le type de paquet recu.  Code sur 4 bits
           il permet de d'envoyer 16 types de paquets differents.

   Salle (4 bits)

           Permet d'identifier le type de paquet recu.  Code sur 4 bits
           il permet de d'envoyer 16 types de paquets differents.

   AvertissementInactivite (1024 bits)

           Permet d'identifier le type de paquet recu.  Code sur 4 bits
           il permet de d'envoyer 16 types de paquets differents.

   AvertissementSPAM (1024 bits)

           Permet d'identifier le type de paquet recu.  Code sur 4 bits
           il permet de d'envoyer 16 types de paquets differents.

   Message (Taille variable)

           Permet d'identifier le type de paquet recu.  Code sur 4 bits
           il permet de d'envoyer 16 types de paquets differents.

   NotificationDeconnexion (1024 bits)

           Permet d'identifier le type de paquet recu.  Code sur 4 bits
           il permet de d'envoyer 16 types de paquets differents.

   Cause d'envoie du paquet :

           Permet d'identifier le type de paquet recu.  Code sur 4 bits
           il permet de d'envoyer 16 types de paquets differents.

   Consequence du paquet :

           Permet d'identifier le type de paquet recu.  Code sur 4 bits
           il permet de d'envoyer 16 types de paquets differents.

4.1.  acquittement

   By default 3 levels of nesting show in table of contents but that can
   be adjusted with the value of the "tocdepth" processing instruction.




KADJO MAMI & N'GUESSAN  Expires September 1, 2019               [Page 6]

                            Abbreviated Title              February 2019


       0                   1                   2                   3
       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       | Code  |        Sequence       |            Taille             |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+


                                 Figure 3

4.2.  Erreur de sequence

   By default 3 levels of nesting show in table of contents but that can
   be adjusted with the value of the "tocdepth" processing instruction.


       0                   1                   2                   3
       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       | Code  |        Sequence       |            Taille             |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |    SequenceAttendue   |
       +-+-+-+-+-+-+-+-+-+-+-+-+


                                 Figure 4

4.3.  Demande de connexion

   By default 3 levels of nesting show in table of contents but that can
   be adjusted with the value of the "tocdepth" processing instruction.


       0                   1                   2                   3
       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       | Code  |        Sequence       |            Taille             |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |                             Temps                             |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |                                                               |
       .                            UserName                           .
       |                                                               |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

                                 Figure 5






KADJO MAMI & N'GUESSAN  Expires September 1, 2019               [Page 7]

                            Abbreviated Title              February 2019


4.4.  Erreur de connexion

   By default 3 levels of nesting show in table of contents but that can
   be adjusted with the value of the "tocdepth" processing instruction.


       0                   1                   2                   3
       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       | Code  |        Sequence       |            Taille             |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |                                                               |
       .                        MessageErreur                          .
       |                                                               |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

                                 Figure 6

4.5.  Connexion Reussie

   By default 3 levels of nesting show in table of contents but that can
   be adjusted with the value of the "tocdepth" processing instruction.


       0                   1                   2                   3
       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       | Code  |        Sequence       |            Taille             |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |                             Temps                             |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |    IdUser   |
       +-+-+-+-+-+-+-+


                                 Figure 7

4.6.  Envoie liste des films

   By default 3 levels of nesting show in table of contents but that can
   be adjusted with the value of the "tocdepth" processing instruction.










KADJO MAMI & N'GUESSAN  Expires September 1, 2019               [Page 8]

                            Abbreviated Title              February 2019


       0                   1                   2                   3
       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       | Code  |        Sequence       |            Taille             |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |                           AdresseIP                           |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
        |             NumPort          |                               |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+                               +
       |                            NomFilm                            |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |                           AdresseIP                           |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |             NumPort           |                               |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+                               +
       |                            NomFilm                            |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       .                                                               .
       .                                                               .
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

                                 Figure 8

4.7.  Envoie Liste des users

   By default 3 levels of nesting show in table of contents but that can
   be adjusted with the value of the "tocdepth" processing instruction.
























KADJO MAMI & N'GUESSAN  Expires September 1, 2019               [Page 9]

                            Abbreviated Title              February 2019


       0                   1                   2                   3
       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       | Code  |        Sequence       |            Taille             |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |    IdUser   | Salle |                                         |
       +-+-+-+-+-+-+-+-+-+-+-+      UserName                           .
       |                                                               |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |    IdUser   | Salle |                                         |
       +-+-+-+-+-+-+-+-+-+-+-+      UserName                           .
       |                                                               |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       .                                                               .
       .                                                               .
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+



                                 Figure 9

4.8.  Avertissement Inactivite

   By default 3 levels of nesting show in table of contents but that can
   be adjusted with the value of the "tocdepth" processing instruction.


       0                   1                   2                   3
       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       | Code  |        Sequence       |            Taille             |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |                                                               |
       .                     AvertissementInactivite                   .
       |                                                               |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+




                                 Figure 10

4.9.  Avertissement SPAM

   By default 3 levels of nesting show in table of contents but that can
   be adjusted with the value of the "tocdepth" processing instruction.





KADJO MAMI & N'GUESSAN  Expires September 1, 2019              [Page 10]

                            Abbreviated Title              February 2019


       0                   1                   2                   3
       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       | Code  |        Sequence       |            Taille             |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |                                                               |
       .                       AvertissementSPAM                       .
       |                                                               |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+




                                 Figure 11

4.10.  Demande Acces film

   By default 3 levels of nesting show in table of contents but that can
   be adjusted with the value of the "tocdepth" processing instruction.


       0                   1                   2                   3
       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       | Code  |        Sequence       |            Taille             |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |                             Temps                             |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       | Salle |                                                       |
       +-+-+-+-+                    NomFilm                            .
       |                                                               |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+



                                 Figure 12

4.11.  Envoie Message de Chat

   By default 3 levels of nesting show in table of contents but that can
   be adjusted with the value of the "tocdepth" processing instruction.










KADJO MAMI & N'GUESSAN  Expires September 1, 2019              [Page 11]

                            Abbreviated Title              February 2019


       0                   1                   2                   3
       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       | Code  |        Sequence       |            Taille             |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |                             Temps                             |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |    IdUser   | Salle |                                         |
       +-+-+-+-+-+-+-+-+-+-+-+      Message                            .
       |                                                               |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+


                                 Figure 13

4.12.  Quitter la MainRoom

   By default 3 levels of nesting show in table of contents but that can
   be adjusted with the value of the "tocdepth" processing instruction.


       0                   1                   2                   3
       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       | Code  |        Sequence       |            Taille             |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+


                                 Figure 14

4.13.  Quitter un film

   By default 3 levels of nesting show in table of contents but that can
   be adjusted with the value of the "tocdepth" processing instruction.


       0                   1                   2                   3
       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       | Code  |        Sequence       |            Taille             |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       | Salle |
       +-+-+-+-+

                                 Figure 15






KADJO MAMI & N'GUESSAN  Expires September 1, 2019              [Page 12]

                            Abbreviated Title              February 2019


4.14.  Message de deconnexion

   By default 3 levels of nesting show in table of contents but that can
   be adjusted with the value of the "tocdepth" processing instruction.


       0                   1                   2                   3
       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       | Code  |        Sequence       |            Taille             |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |                                                               |
       .                    NotificationDeconnexion                    .
       |                                                               |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+




                                 Figure 16

5.  Fiabilite

6.  Exemple de scenario

6.1.  Scenario sans erreur 1: Regarder un film

   Dans ce scenario, nous allons expliciter la suite de messages envoyee
   entre un client et le serveur lorsque l'utilisateur veut regarder un
   film sur la plateforme.  Nous irons de la connexion au service
   jusqu'a l'acces au film.



                                           (salle               (salle
                                         principale)              001)
 Client A                Serveur           Client B             Client C
   |                       |                   |                    |
   |      Demande de       |                   |                    |
   |      connexion        |                   |                    |
   |---------------------->|                   |                    |
   |  (Le client demande   |                   |                    |
   |  l'acces au service)  |                   |                    |
   |                       |                   |                    |
   |                       |                   |                    |
   |                       |                   |                    |
   |    Acquittement       |                   |                    |
   |<----------------------|                   |                    |



KADJO MAMI & N'GUESSAN  Expires September 1, 2019              [Page 13]

                            Abbreviated Title              February 2019


   |  (Le serveur confirme |                   |                    |
   |   avoir recu)         |                   |                    |
   |                       |                   |                    |
   |                       |                   |                    |
   |                       |                   |                    |
   |  Connexion reussie    |                   |                    |
   |<-------------- -------|                   |                    |
   | (Le serveur connecte  |                   |                    |
   |       le client)      |                   |                    |
   |                       |                   |                    |
   |                       |                   |                    |
   |                       |                   |                    |
   |   Envoi liste des     |                   |                    |
   |        films          |                   |                    |
   |<----------------------|                   |                    |
   |                       |                   |                    |
   |                       |                   |                    |
   |    Acquittement       |                   |                    |
   |---------------------->|                   |                    |
   |                       |                   |                    |
   |                       |                   |                    |
   |                       |     Envoi liste   |                    |
   |   Envoi liste des     |  des utilisateurs |                    |
   |     utilisateurs      |------------------>|                    |
   |<----------------------|(le serveur actua- |                    |
   |                       |lise la liste des  |                    |
   |                       | clients connectes)|                    |
   |                       |                   |                    |
   |                       |                   |                    |
   |                       |                   |                    |
   |    Acquittement       |                   |                    |
   |---------------------->|                   |                    |
   |                       |   Acquittement    |                    |
   |                       |<------------------|                    |
   |                       |                   |                    |
   |                       |                   |                    |
   |                       |                   |                    |
   |  Demande acces film   |                   |                    |
   |---------------------->|                   |                    |
   |                       |                   |                    |
   |                       |                   |                    |
   |    Acquittement       |                   |                    |
   |<----------------------|                   |                    |
   |                       |                   |                    |
   |    Envoi liste        |                   |                    |
   | des utilisateurs      |                   |                    |
   |<----------------------|                   |                    |
   |     (Utilisateurs     |                   |                    |



KADJO MAMI & N'GUESSAN  Expires September 1, 2019              [Page 14]

                            Abbreviated Title              February 2019


   | visionnant le meme    |                   |                    |
   |   film [salle @001])  |  Envoi liste des  |                    |
   |                       |    utilisateurs   |                    |
   |                       |------------------>|                    |
   |                       | (le serveur actua-|                    |
   |                       | lise la liste des |                    |
   |                       | clients connectes)|                    |
   |                       |                   |                    |
   |                       | Envoi liste des   |                    |
   |                       |    utilisateurs   |                    |
   |                       |--------------------------------------->|
   |    Acquittement       |                   |                    |
   |---------------------->|                   |                    |
   |                       |   Acquittement    |                    |
   |                       |<------------------|                    |
   |                       |                   |                    |
   |                       |                   |  Acquittement      |
   |                       |                   |<-------------------|
   |                       |                   |                    |




6.2.  Scenario sans erreur 2: Chat dans une salle

   Ce scenario decrit la suite de message envoyes dans le cas d'un envoi
   de messages dans une meme salle.
























KADJO MAMI & N'GUESSAN  Expires September 1, 2019              [Page 15]

                            Abbreviated Title              February 2019


 Client A                Serveur           Client B             Client C
   |                       |                   |                    |
   |      Envoi de         |                   |                    |
   |  message : "salut!"   |                   |                    |
   |---------------------->|                   |                    |
   |  (Le client envoie    |                   |                    |
   | un message dans la    |                   |                    |
   |       salle)          |                   |                    |
   |                       |                   |                    |
   |                       |                   |                    |
   |                       |                   |                    |
   |    Acquittement       |                   |                    |
   |<----------------------|                   |                    |
   |                       |                   |                    |
   |                       |     Envoi de      |                    |
   |                       | message : "salut!"|                    |
   |                       |------------------>|                    |
   |                       |                   |                    |
   |                       |     Envoi de      |                    |
   |                       | message : "salut!"|                    |
   |                       |--------------------------------------->|
   |      Envoi de         |                   |                    |
   |  message : "salut!"   |                   |                    |
   |<----------------------|                   |                    |
   |    Acquittement       |                   |                    |
   |---------------------->|                   |                    |
   |                       |   Acquittement    |                    |
   |                       |<------------------|                    |
   |                       |                   |                    |
   |                       |                   |  Acquittement      |
   |                       |                   |<-------------------|


6.3.  Scenario 3: Utilisateur inactif Dans la salle principale

   Ce scenario decrit la suite de messages envoyes dans le cas ou un
   utilisateur est inactif dans la salle principale.














KADJO MAMI & N'GUESSAN  Expires September 1, 2019              [Page 16]

                            Abbreviated Title              February 2019


   MSG 1 from toto to titi

   etc

   You can also use a figure like this:

   Client A                                Serveur           Client B
     | =====  Processus de connexion  =====   |                 |
     | =====     (cf. Scenario 1)     =====   |                 |
     | ==   (Temps d'inaction = 0 mn)   ==    |                 |
     .                                        .                 .
     .                                        .                 .
     | ==   (Temps d'inaction = 14 mn)   ==   |                 |
     |                                        |                 |
     |       Avertissement Inactivite         |                 |
     |<---------------------------------------|                 |
     |  (Le serveur previent l'utilisateur)   |                 |
     |                                        |                 |
     |             Acquittement               |                 |
     |--------------------------------------->|                 |
     .                                        .                 .
     | ==   (Temps d'inaction = 15 mn)   ==   |                 |
     |                                        |                 |
     |        Message de deconnexion          |                 |
     |<---------------------------------------|                 |
     |                                        | Envoi liste des |
     |                                        |  utilisateurs   |
     |                                        |---------------->|
     |             Acquittement               |                 |
     |--------------------------------------->|                 |
     |                                        |                 |
     |                                        |   Acquittement  |
     |                                        |<----------------|
     |                                        |                 |

6.4.  Scenario sans erreur 4: Envoie de SPAM

   Ce scenario decrit l'ensemble des messages echanges lorsque
   l'utilisateur envoie des messages a repetition dans le chat dans le
   but de nuire (SPAM).  Le serveur va donc le deconnecter.

 Client A                Serveur           Client B             Client C
   |                       |                   |                    |
   |      Envoi de         |                   |                    |
   |  message : "SPAM!"    |                   |                    |
   |---------------------->|                   |                    |
   |  (Le client envoie    |                   |                    |
   | un message dans la    |                   |                    |



KADJO MAMI & N'GUESSAN  Expires September 1, 2019              [Page 17]

                            Abbreviated Title              February 2019


   |       salle)          |                   |                    |
   |                       |                   |                    |
   |     Acquittement      |                   |                    |
   |<----------------------|                   |                    |
   |                       |     Envoi de      |                    |
   |                       | message : "SPAM!" |                    |
   |                       |------------------>|                    |
   |                       |                   |                    |
   |                       |     Envoi de      |                    |
   |                       | message : "SPAM!" |                    |
   |                       |--------------------------------------->|
   |      Envoi de         |                   |                    |
   |  message : "SPAM"     |                   |                    |
   |<----------------------|                   |                    |
   |    Acquittement       |                   |                    |
   |---------------------->|                   |                    |
   |                       |   Acquittement    |                    |
   |                       |<------------------|                    |
   |                       |                   |                    |
   |                       |                   |  Acquittement      |
   |                       |                   |<-------------------|
   |      Envoi de         |                   |                    |
   |  message : "SPAM!"    |                   |                    |
   |---------------------->|                   |                    |
   |     Acquittement      |                   |                    |
   |<----------------------|                   |                    |
   |                       |     Envoi de      |                    |
   |                       | message : "SPAM!" |                    |
   |                       |------------------>|                    |
   |                       |                   |                    |
   |                       |     Envoi de      |                    |
   |                       | message : "SPAM!" |                    |
   |                       |--------------------------------------->|
   |      Envoi de         |                   |                    |
   |  message : "SPAM"     |                   |                    |
   |<----------------------|                   |                    |
   |    Acquittement       |                   |                    |
   |---------------------->|                   |                    |
   |                       |   Acquittement    |                    |
   |                       |<------------------|                    |
   |                       |                   |                    |
   |                       |                   |  Acquittement      |
   |                       |                   |<-------------------|
   |      Envoi de         |                   |                    |
   |  message : "SPAM!"    |                   |                    |
   |---------------------->|                   |                    |
   .                       .                   .                    .
   .                       .                   .                    .



KADJO MAMI & N'GUESSAN  Expires September 1, 2019              [Page 18]

                            Abbreviated Title              February 2019


   .                       .                   .                    .
   |      Envoi de         |                   |                    |
   |  message : "SPAM!"    |                   |                    |
   |---------------------->|                   |                    |
   |                       |                   |                    |
   |     Acquittement      |                   |                    |
   |<----------------------|                   |                    |
   |                       |                   |                    |
   |   Avertissement SPAM  |                   |                    |
   |<----------------------|                   |                    |
   |                       |                   |                    |
   |    Acquittement       |                   |                    |
   |---------------------->|                   |                    |
   |                       |                   |                    |
   |                       |                   |                    |
   |      Envoi de         |                   |                    |
   |  message : "SPAM!"    |                   |                    |
   |---------------------->|                   |                    |
   |                       |                   |                    |
   |     Acquittement      |                   |                    |
   |<----------------------|                   |                    |
   |                       |                   |                    |
   |      Message de       |                   |                    |
   |     deconnexion       |                   |                    |
   |<----------------------|                   |                    |
   | ("Vous allez etre     |                   |                    |
   |   deconnecte pour     |                   |                    |
   |       SPAM")          |  Envoi liste des  |                    |
   |                       |   utilisateurs    |                    |
   |                       |------------------>|                    |
   |                       |                   |                    |
   |                       |  Envoi liste des  |                    |
   |                       |   utilisateurs    |                    |
   |                       |--------------------------------------->|
   |    Acquittement       |                   |                    |
   |---------------------->|                   |                    |
   |                       |   Acquittement    |                    |
   |                       |<------------------|                    |
   |                       |                   |                    |
   |                       |                   |  Acquittement      |
   |                       |                   |<-------------------|










KADJO MAMI & N'GUESSAN  Expires September 1, 2019              [Page 19]

                            Abbreviated Title              February 2019


6.5.  Scenario avec erreur : Quitter l'application

   Dans ce scenario, nous allons simuler la suite de messages envoyes
   lorsque l'utilisateur veut quitter l'application.  Cependant, nous
   ajouterons quelques erreurs qui peuvent arriver dans notre systeme et
   nous montrerons comment nous comptons les gerer.













































KADJO MAMI & N'GUESSAN  Expires September 1, 2019              [Page 20]

                            Abbreviated Title              February 2019


   Client A                                       Serveur
     |                                               |
     |                                               |
     |                                               |
     |            Quitter un salon de film           |
     |-----------------------x                       |
     |                                               |
     |                                               |
     |                                               |
     |            Quitter un salon de film           |
     |---------------------------------------------->|
     | (Le client, n'ayant pas recu l'acquittement   |
     |  attend 2 secondes et renvoie le meme message |
     | avec le meme numero de sequence au serveur)   |
     |                                               |
     |                                               |
     |            Quitter un salon de film           |
     |---------------------------------------------->|
     |                                               |
     |                                               |
     |                                               |
     |               Acquittement                    |
     |                   x---------------------------|
     |     L'acquittement n'a pas atteint le         |
     |                   client)                     |
     |                                               |
     |                                               |
     |            Quitter un salon de film           |
     |---------------------------------------------->|
     | (Le client, n'ayant pas recu l'acquittement   |
     |  attend 2 secondes et renvoie le meme message |
     | avec le meme numero de sequence au serveur)   |
     |                                               |
     |                                               |
     |               Erreur de sequence              |
     |<----------------------------------------------|
     |  (Le serveur signale au client qu'il a deja   |
     |   recu cette sequence, lui signalant ainsi    |
     |      la reception du message precedent)       |
     |                                               |
     |                                               |
     |                  Acquittement                 |
     |---------------------------------------------->|
     |                                               |
     |         ==== Deconnexion du client ====       |






KADJO MAMI & N'GUESSAN  Expires September 1, 2019              [Page 21]

                            Abbreviated Title              February 2019


6.6.  Scenario 6: Erreur de Sequence

   Description of the scenario and then the corresponding messages:

   MSG 1 from toto to titi

   etc

   You can also use a figure like this:

        Alice                                            Bob
           |                                               |
           |             Demande deconnexion               |
           |---------------------------------------------->|
           |            (details of the message)           |
           |                                               |
           |                                               |
           |               Message 2 (Response)            |
           |<----------------------------------------------|
           |                   (Details)                   |


7.  Conclusion

   Your conclusion goes here.

Authors' Addresses

   Claude KADJO MAMI
   Telecom Bretagne
   655, Avenue du Technopole
   Brest, Bretagne  29280
   France

   Email: claude-yrvine-axel.kadjo-mami@imt-atlantique.net


   Eric Xavier N'GUESSAN
   Telecom Bretagne
   655, Avenue du Technopole
   Brest, Bretagne  29280
   France

   Email: eric-xavier.nguessan@imt-atlantique.net







KADJO MAMI & N'GUESSAN  Expires September 1, 2019              [Page 22]
