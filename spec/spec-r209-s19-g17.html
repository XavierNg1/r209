<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" 
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head profile="http://www.w3.org/2006/03/hcard http://dublincore.org/documents/2008/08/04/dc-html/">
  <meta http-equiv="Content-Type" content="text/html; charset=us-ascii" />

  <title>Group 17: c2w protocol specification proposal (Binary Version) </title>

  <style type="text/css" title="Xml2Rfc (sans serif)">
  /*<![CDATA[*/
	  a {
	  text-decoration: none;
	  }
      /* info code from SantaKlauss at http://www.madaboutstyle.com/tooltip2.html */
      a.info {
          /* This is the key. */
          position: relative;
          z-index: 24;
          text-decoration: none;
      }
      a.info:hover {
          z-index: 25;
          color: #FFF; background-color: #900;
      }
      a.info span { display: none; }
      a.info:hover span.info {
          /* The span will display just on :hover state. */
          display: block;
          position: absolute;
          font-size: smaller;
          top: 2em; left: -5em; width: 15em;
          padding: 2px; border: 1px solid #333;
          color: #900; background-color: #EEE;
          text-align: left;
      }
	  a.smpl {
	  color: black;
	  }
	  a:hover {
	  text-decoration: underline;
	  }
	  a:active {
	  text-decoration: underline;
	  }
	  address {
	  margin-top: 1em;
	  margin-left: 2em;
	  font-style: normal;
	  }
	  body {
	  color: black;
	  font-family: verdana, helvetica, arial, sans-serif;
	  font-size: 10pt;
	  max-width: 55em;
	  
	  }
	  cite {
	  font-style: normal;
	  }
	  dd {
	  margin-right: 2em;
	  }
	  dl {
	  margin-left: 2em;
	  }
	
	  ul.empty {
	  list-style-type: none;
	  }
	  ul.empty li {
	  margin-top: .5em;
	  }
	  dl p {
	  margin-left: 0em;
	  }
	  dt {
	  margin-top: .5em;
	  }
	  h1 {
	  font-size: 14pt;
	  line-height: 21pt;
	  page-break-after: avoid;
	  }
	  h1.np {
	  page-break-before: always;
	  }
	  h1 a {
	  color: #333333;
	  }
	  h2 {
	  font-size: 12pt;
	  line-height: 15pt;
	  page-break-after: avoid;
	  }
	  h3, h4, h5, h6 {
	  font-size: 10pt;
	  page-break-after: avoid;
	  }
	  h2 a, h3 a, h4 a, h5 a, h6 a {
	  color: black;
	  }
	  img {
	  margin-left: 3em;
	  }
	  li {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  ol {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  ol p {
	  margin-left: 0em;
	  }
	  p {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  pre {
	  margin-left: 3em;
	  background-color: lightyellow;
	  padding: .25em;
	  }
	  pre.text2 {
	  border-style: dotted;
	  border-width: 1px;
	  background-color: #f0f0f0;
	  width: 69em;
	  }
	  pre.inline {
	  background-color: white;
	  padding: 0em;
	  }
	  pre.text {
	  border-style: dotted;
	  border-width: 1px;
	  background-color: #f8f8f8;
	  width: 69em;
	  }
	  pre.drawing {
	  border-style: solid;
	  border-width: 1px;
	  background-color: #f8f8f8;
	  padding: 2em;
	  }
	  table {
	  margin-left: 2em;
	  }
	  table.tt {
	  vertical-align: top;
	  }
	  table.full {
	  border-style: outset;
	  border-width: 1px;
	  }
	  table.headers {
	  border-style: outset;
	  border-width: 1px;
	  }
	  table.tt td {
	  vertical-align: top;
	  }
	  table.full td {
	  border-style: inset;
	  border-width: 1px;
	  }
	  table.tt th {
	  vertical-align: top;
	  }
	  table.full th {
	  border-style: inset;
	  border-width: 1px;
	  }
	  table.headers th {
	  border-style: none none inset none;
	  border-width: 1px;
	  }
	  table.left {
	  margin-right: auto;
	  }
	  table.right {
	  margin-left: auto;
	  }
	  table.center {
	  margin-left: auto;
	  margin-right: auto;
	  }
	  caption {
	  caption-side: bottom;
	  font-weight: bold;
	  font-size: 9pt;
	  margin-top: .5em;
	  }
	
	  table.header {
	  border-spacing: 1px;
	  width: 95%;
	  font-size: 10pt;
	  color: white;
	  }
	  td.top {
	  vertical-align: top;
	  }
	  td.topnowrap {
	  vertical-align: top;
	  white-space: nowrap; 
	  }
	  table.header td {
	  background-color: gray;
	  width: 50%;
	  }
	  table.header a {
	  color: white;
	  }
	  td.reference {
	  vertical-align: top;
	  white-space: nowrap;
	  padding-right: 1em;
	  }
	  thead {
	  display:table-header-group;
	  }
	  ul.toc, ul.toc ul {
	  list-style: none;
	  margin-left: 1.5em;
	  margin-right: 0em;
	  padding-left: 0em;
	  }
	  ul.toc li {
	  line-height: 150%;
	  font-weight: bold;
	  font-size: 10pt;
	  margin-left: 0em;
	  margin-right: 0em;
	  }
	  ul.toc li li {
	  line-height: normal;
	  font-weight: normal;
	  font-size: 9pt;
	  margin-left: 0em;
	  margin-right: 0em;
	  }
	  li.excluded {
	  font-size: 0pt;
	  }
	  ul p {
	  margin-left: 0em;
	  }
	
	  .comment {
	  background-color: yellow;
	  }
	  .center {
	  text-align: center;
	  }
	  .error {
	  color: red;
	  font-style: italic;
	  font-weight: bold;
	  }
	  .figure {
	  font-weight: bold;
	  text-align: center;
	  font-size: 9pt;
	  }
	  .filename {
	  color: #333333;
	  font-weight: bold;
	  font-size: 12pt;
	  line-height: 21pt;
	  text-align: center;
	  }
	  .fn {
	  font-weight: bold;
	  }
	  .hidden {
	  display: none;
	  }
	  .left {
	  text-align: left;
	  }
	  .right {
	  text-align: right;
	  }
	  .title {
	  color: #990000;
	  font-size: 18pt;
	  line-height: 18pt;
	  font-weight: bold;
	  text-align: center;
	  margin-top: 36pt;
	  }
	  .vcardline {
	  display: block;
	  }
	  .warning {
	  font-size: 14pt;
	  background-color: yellow;
	  }
	
	
	  @media print {
	  .noprint {
		display: none;
	  }
	
	  a {
		color: black;
		text-decoration: none;
	  }
	
	  table.header {
		width: 90%;
	  }
	
	  td.header {
		width: 50%;
		color: black;
		background-color: white;
		vertical-align: top;
		font-size: 12pt;
	  }
	
	  ul.toc a::after {
		content: leader('.') target-counter(attr(href), page);
	  }
	
	  ul.ind li li a {
		content: target-counter(attr(href), page);
	  }
	
	  .print2col {
		column-count: 2;
		-moz-column-count: 2;
		column-fill: auto;
	  }
	  }
	
	  @page {
	  @top-left {
		   content: "Internet-Draft"; 
	  } 
	  @top-right {
		   content: "December 2010"; 
	  } 
	  @top-center {
		   content: "Abbreviated Title";
	  } 
	  @bottom-left {
		   content: "Doe"; 
	  } 
	  @bottom-center {
		   content: "Expires June 2011"; 
	  } 
	  @bottom-right {
		   content: "[Page " counter(page) "]"; 
	  } 
	  }
	
	  @page:first { 
		@top-left {
		  content: normal;
		}
		@top-right {
		  content: normal;
		}
		@top-center {
		  content: normal;
		}
	  }
  /*]]>*/
  </style>

  <link href="#rfc.toc" rel="Contents">
<link href="#rfc.section.1" rel="Chapter" title="1 Introduction">
<link href="#rfc.section.2" rel="Chapter" title="2 Fonctionnement">
<link href="#rfc.section.3" rel="Chapter" title="3 Formats des paquets">
<link href="#rfc.section.4" rel="Chapter" title="4 Format des Paquets">
<link href="#rfc.section.4.1" rel="Chapter" title="4.1 Acquitement">
<link href="#rfc.section.4.2" rel="Chapter" title="4.2 Erreur de s&#233;quence">
<link href="#rfc.section.4.3" rel="Chapter" title="4.3 Demande de connexion">
<link href="#rfc.section.4.4" rel="Chapter" title="4.4 Erreur de connexion">
<link href="#rfc.section.4.5" rel="Chapter" title="4.5 Connexion Reussie">
<link href="#rfc.section.4.6" rel="Chapter" title="4.6 Envoie liste des films">
<link href="#rfc.section.4.7" rel="Chapter" title="4.7 Envoie Liste des users">
<link href="#rfc.section.4.8" rel="Chapter" title="4.8 Avertissement Inactivit&#233;">
<link href="#rfc.section.4.9" rel="Chapter" title="4.9 Avertissement SPAM">
<link href="#rfc.section.4.10" rel="Chapter" title="4.10 Demande Acc&#232;s film">
<link href="#rfc.section.4.11" rel="Chapter" title="4.11 Envoie Message de Chat">
<link href="#rfc.section.4.12" rel="Chapter" title="4.12 Quitter la MainRoom">
<link href="#rfc.section.4.13" rel="Chapter" title="4.13 Quitter un film">
<link href="#rfc.section.4.14" rel="Chapter" title="4.14 Message de deconnexion">
<link href="#rfc.section.5" rel="Chapter" title="5 Fiabilit&#233;">
<link href="#rfc.section.6" rel="Chapter" title="6 Exemple de scenario">
<link href="#rfc.section.6.1" rel="Chapter" title="6.1 Scenario sans erreur 1: Regarder un film">
<link href="#rfc.section.6.2" rel="Chapter" title="6.2 Scenario sans erreur 2: Chat dans une salle">
<link href="#rfc.section.6.3" rel="Chapter" title="6.3 Scenario 3: Utilisateur inactif Dans la salle principale">
<link href="#rfc.section.6.4" rel="Chapter" title="6.4 Scenario sans erreur 4: Envoie de SPAM">
<link href="#rfc.section.6.5" rel="Chapter" title="6.5 Scenario avec erreur : Quitter l'application">
<link href="#rfc.section.7" rel="Chapter" title="7 Conclusion">
<link href="#rfc.authors" rel="Chapter">


  <meta name="generator" content="xml2rfc version 2.9.6 - https://tools.ietf.org/tools/xml2rfc" />
  <link rel="schema.dct" href="http://purl.org/dc/terms/" />

  <meta name="dct.creator" content="KADJO MAMI, C. and E. N'GUESSAN" />
  <meta name="dct.identifier" content="urn:ietf:id:draft-ietf-xml2rfc-template-05" />
  <meta name="dct.issued" scheme="ISO8601" content="2019-02-28" />
  <meta name="dct.abstract" content="Ce document presente la specification du protocole de communication utilise au sein de l'application c2w (Chat While Watching); Ce protocole permettra a tous les utilisateurs du meme type de salon (principal ou de visionnement d'une video) de s'echanger des messages." />
  <meta name="description" content="Ce document presente la specification du protocole de communication utilise au sein de l'application c2w (Chat While Watching); Ce protocole permettra a tous les utilisateurs du meme type de salon (principal ou de visionnement d'une video) de s'echanger des messages." />

</head>

<body>

  <table class="header">
    <tbody>
    
    	<tr>
<td class="left"></td>
<td class="right">C. KADJO MAMI</td>
</tr>
<tr>
<td class="left"></td>
<td class="right">E. N'GUESSAN</td>
</tr>
<tr>
<td class="left"></td>
<td class="right">Telecom Bretagne</td>
</tr>
<tr>
<td class="left"></td>
<td class="right">February 28, 2019</td>
</tr>

    	
    </tbody>
  </table>

  <p class="title">Group 17: c2w protocol specification proposal (Binary Version) <br />
  <span class="filename">draft-ietf-xml2rfc-template-05</span></p>
  
  <h1 id="rfc.abstract"><a href="#rfc.abstract">Abstract</a></h1>
<p>Ce document presente la specification du protocole de communication utilise au sein de l'application c2w (Chat While Watching); Ce protocole permettra a tous les utilisateurs du meme type de salon (principal ou de visionnement d'une video) de s'echanger des messages.</p>

  
  <hr class="noprint" />
  <h1 class="np" id="rfc.toc"><a href="#rfc.toc">Table of Contents</a></h1>
  <ul class="toc">

  	<li>1.   <a href="#rfc.section.1">Introduction</a>
</li>
<li>2.   <a href="#rfc.section.2">Fonctionnement</a>
</li>
<li>3.   <a href="#rfc.section.3">Formats des paquets</a>
</li>
<li>4.   <a href="#rfc.section.4">Format des Paquets</a>
</li>
<ul><li>4.1.   <a href="#rfc.section.4.1">Acquitement</a>
</li>
<li>4.2.   <a href="#rfc.section.4.2">Erreur de s&#233;quence</a>
</li>
<li>4.3.   <a href="#rfc.section.4.3">Demande de connexion</a>
</li>
<li>4.4.   <a href="#rfc.section.4.4">Erreur de connexion</a>
</li>
<li>4.5.   <a href="#rfc.section.4.5">Connexion Reussie</a>
</li>
<li>4.6.   <a href="#rfc.section.4.6">Envoie liste des films</a>
</li>
<li>4.7.   <a href="#rfc.section.4.7">Envoie Liste des users</a>
</li>
<li>4.8.   <a href="#rfc.section.4.8">Avertissement Inactivit&#233;</a>
</li>
<li>4.9.   <a href="#rfc.section.4.9">Avertissement SPAM</a>
</li>
<li>4.10.   <a href="#rfc.section.4.10">Demande Acc&#232;s film</a>
</li>
<li>4.11.   <a href="#rfc.section.4.11">Envoie Message de Chat</a>
</li>
<li>4.12.   <a href="#rfc.section.4.12">Quitter la MainRoom</a>
</li>
<li>4.13.   <a href="#rfc.section.4.13">Quitter un film</a>
</li>
<li>4.14.   <a href="#rfc.section.4.14">Message de deconnexion</a>
</li>
</ul><li>5.   <a href="#rfc.section.5">Fiabilit&#233;</a>
</li>
<li>6.   <a href="#rfc.section.6">Exemple de scenario</a>
</li>
<ul><li>6.1.   <a href="#rfc.section.6.1">Scenario sans erreur 1: Regarder un film</a>
</li>
<li>6.2.   <a href="#rfc.section.6.2">Scenario sans erreur 2: Chat dans une salle</a>
</li>
<li>6.3.   <a href="#rfc.section.6.3">Scenario 3: Utilisateur inactif Dans la salle principale</a>
</li>
<li>6.4.   <a href="#rfc.section.6.4">Scenario sans erreur 4: Envoie de SPAM</a>
</li>
<li>6.5.   <a href="#rfc.section.6.5">Scenario avec erreur : Quitter l'application</a>
</li>
</ul><li>7.   <a href="#rfc.section.7">Conclusion</a>
</li>
<li><a href="#rfc.authors">Authors' Addresses</a>
</li>


  </ul>

  <h1 id="rfc.section.1">
<a href="#rfc.section.1">1.</a> Introduction</h1>
<p id="rfc.section.1.p.1">Dans le cadre de l'application c2w : Chat While Watching, ce document decrit la specification du protocole de communication utilise pour la mise en place de ladite application.  Cette application permet a un utilisateur, apres s'etre connecte, d'acceder a un certains nombres de videos, de pouvoir les regarder d'une part et, d'autre part, de pouvoir echanger des messages avec les utilisateurs se trouvant dans le meme salon.</p>
<p id="rfc.section.1.p.2">Le serveur communiquera avec les utilisateurs aussi bien en utilisant le protocole de transport TCP que le protocole UDP. Les messages seront envoyes sous le format binaire.</p>
<p id="rfc.section.1.p.3">Dans la suite du document nous sp&#233;cifierons le fonctionnement du protocole, les types de messages envoy&#233;s, le format des differents messages et donnerons differents examples de scenarii pouvant arriver dans l'execution du protocole.</p>
<h1 id="rfc.section.2">
<a href="#rfc.section.2">2.</a> Fonctionnement</h1>
<p id="rfc.section.2.p.1">On suppose prealablement qu'un client possede necessairement un couple (adresse IP, port), distinct de tous les autres utilisateurs.  Pour pouvoir utiliser l'application c2w, le client doit se connecter au serveur en entrant son pseudo choisi et le nom (ou l'adresse IP) du serveur. Les noms d'utilisateurs seront en caracteres alphanumeriques, sans caracteres speciaux, et leur taille devra etre compris entre 4 et 32 caracteres.</p>
<p id="rfc.section.2.p.2">Il est a noter que le nom d'utilisateur peut etre refuse pour d'autres raisons: il peut etre deja utilise par un autre client connecte ou il peut faire partie de la liste des noms utilisateur bannis car juges offensant.</p>
<p id="rfc.section.2.p.3">Deux cas sont a analyser, le cas ou le serveur etablie la connexion et le cas ou il la refuse</p>
<p id="rfc.section.2.p.4">Premier cas: La connexion est etablie</p>
<p id="rfc.section.2.p.5">Il y a etablissement de connexion si et seulement si deux (2) conditions sont respectees:</p>
<p id="rfc.section.2.p.6">Le serveur n'est pas sature : Leur serveur est sature si il atteint le nombre maximal d'utilisateurs qu'il peut supporter en l'occurence 128. si ce n'est pas le cas la connexion peut etre etablie.</p>
<p id="rfc.section.2.p.7">Le nom d'utilisateur est correct: Il respecte les conditions de taille, il est alphanumerique sans caracteres speciaux, il ne fait partie ni des pseudos existants ni des pseudos bannis.</p>
<p id="rfc.section.2.p.8">Une fois ces conditions satisfaites, le client est connecte. Il accede au salon principal et recoit la liste des videos disponibles la liste de tous les utilisateurs connectes. L'application precisera en outre si l'utilisateur est present dans la salle principale ou s'il est entrain de visionner une video. La liste des utilisateurs recue par les autres utilisateurs est aussi actualisee. L'utilisateur pourra dialoguer avec les autres clients present dans son salon. Pour changer de salon, le client envoie au serveur le nom, le port et l'adresse IP de la video qu'il souhaite visionner. Il se retrouve alors dans le salon de la video correspondant et recoit en meme temps la liste des utilisateurs regardant la meme video. Ces derniers sont informes eux aussi de la venue d'un nouvel utilisateur. Le client peut decider de quitter le salon principal ou un salon de visionnage a tout moment, en envoyant les messages correspondants.</p>
<p id="rfc.section.2.p.9">Il convient par ailleurs de preciser que le serveur se reserve le droit de deconnecter l'utilisateur dans deux (2) cas : En cas de longue periode d'inactivite dans la salle principale ou en cas de spam (envois repetitifs du meme message dans le chat).</p>
<p id="rfc.section.2.p.10">Deuxieme cas : La connexion est refusee</p>
<p id="rfc.section.2.p.11">La connexion echoue si l'une des deux conditions enoncees precedemment n'est pas respectee. Le client recoit alors un message d'erreur et est invite a ressaisir ses acces.</p>
<h1 id="rfc.section.3">
<a href="#rfc.section.3">3.</a> Formats des paquets</h1>
<p id="rfc.section.3.p.1">Describe the packet format and the headers. For example, if you have a binary header, you can use a figure like the following example (where we have used the generic name "Field" for most of the fields, you should use the names corresponding to your solution): </p>
<div id="rfc.figure.1"></div>
<div id="type_paquet"></div>
<pre>

    +------+--------------------------+-------------------------------+
    | code |       TypeDePaquet       |      Sens de Transmission     |
    +------+--------------------------+-------------------------------+
    | 0000 |       acquittement       |     Client &lt;-----&gt; Serveur     |
    | 0001 |   Demande de connexion   |     Client x-----&gt; Serveur    |
    | 0010 |   Erreur de connexion    |     Client &lt;-----x Serveur    |
    | 0011 |     Connexion Reussie    |     Client &lt;-----x Serveur    |
    | 0100 |  Envoie liste des films  |     Client &lt;-----x Serveur    |
    | 0101 |  Envoie liste de users   |     Client &lt;-----x Serveur    |
    | 0110 | Avertissemnt Inactivit&#233;  |     Client &lt;-----x Serveur    |
    | 0111 |    Avertissemnt SPAM     |     Client &lt;-----x Serveur    |
    | 1000 |    Demande acces film    |     Client x-----&gt; Serveur    |
    | 1001 |    Erreur de sequence    |     Client &lt;-----&gt; Serveur    |
    | 1010 |  Envoie message de Chat  |     Client &lt;-----&gt; Serveur    |
    | 1011 |   Quitter la Main room   |     Client x-----&gt; Serveur    |
    | 1100 | Quitter un salon de film |     Client x-----&gt; Serveur    |
    | 1101 |  Message de deconnexion  |     Client &lt;-----x Serveur    |
    |______|__________________________|_______________________________|

  
  </pre>
<p class="figure">Figure 1</p>
<p></p>
<p id="rfc.section.3.p.3">Sens de Transmission </p>
<p></p>

<ol>
<li>Client x-----&gt; Server: Indique une communication du client vers le server</li>
<li>Client &lt;-----x Server: Indique une communication du server vers le client</li>
<li>Client &lt;-----&gt; Server: Indique la possibilit&#233; d'avoir le cas 1. ou 2. </li>
</ol>
<h1 id="rfc.section.4">
<a href="#rfc.section.4">4.</a> Format des Paquets</h1>
<p id="rfc.section.4.p.1">Dans la suite nous allons decrire les differents type de paquet present&#233; ci-dessus. Nous pr&#233;senterons la cause de ces differrents "&#233;v&#233;nements", et les cons&#233;quence imm&#233;diates sur le syst&#232;me.  La totalit&#233; des paquets partagent au minimun les 3 champs pr&#233;sent&#233; sur la figure 2. Nous eviterons alors les r&#233;p&#233;titions dans la suite.  </p>
<div id="rfc.figure.2"></div>
<div id="ack1"></div>
<pre>

      0                   1                   2                   3
      0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      | Code  |        Sequence       |            Taille             |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      
      </pre>
<p class="figure">Figure 2</p>
<p></p>
<p></p>

<dl>
<dt>Code (4 bits)</dt>
<dd style="margin-left: 8">
<br><br> Cod&#233; sur 4 bits il permet d'identifier les 14 diff&#233;rents types de paquets.  </dd>
</dl>

<p> </p>
<p></p>

<dl>
<dt>Sequence (12 bits)</dt>
<dd style="margin-left: 8">
<br><br> Numero de Permet d'identifier le type de paquet recu. Cod&#233; sur 4 bits il permet de d'envoyer 16 types de paquets diff&#233;rents.  </dd>
</dl>

<p> </p>
<p></p>

<dl>
<dt>Taille (16 bits)</dt>
<dd style="margin-left: 8">
<br><br> C'est la taille en bit de l'ensemble du message (c'est &#224; dire de tous les champs du paquet reunis).  </dd>
</dl>

<p> </p>
<h1 id="rfc.section.4.1">
<a href="#rfc.section.4.1">4.1.</a> Acquitement</h1>
<p id="rfc.section.4.1.p.1">By default 3 levels of nesting show in table of contents but that can be adjusted with the value of the "tocdepth" processing instruction.</p>
<div id="rfc.figure.3"></div>
<div id="ack"></div>
<pre>

      0                   1                   2                   3
      0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      | Code  |        Sequence       |            Taille             |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     
      </pre>
<p class="figure">Figure 3</p>
<p></p>
<p></p>

<dl>
<dt>Code (4 bits)</dt>
<dd style="margin-left: 8">
<br><br> Code = 0000 informant le client qu'il s'agit d'un acquitement.  </dd>
</dl>

<p> </p>
<p></p>

<dl>
<dt>Sequence (12 bits)</dt>
<dd style="margin-left: 8">
<br><br> Le mun&#233;ro de s&#233; </dd>
</dl>

<p> </p>
<p></p>

<dl>
<dt>Taille (16 bits)</dt>
<dd style="margin-left: 8">
<br><br> C'est la taille en bit de l'ensemble du message (c'est &#224; dire de tous les champs du paquet reunis).  </dd>
</dl>

<p> </p>
<h1 id="rfc.section.4.2">
<a href="#rfc.section.4.2">4.2.</a> Erreur de s&#233;quence</h1>
<p id="rfc.section.4.2.p.1">By default 3 levels of nesting show in table of contents but that can be adjusted with the value of the "tocdepth" processing instruction.</p>
<div id="rfc.figure.4"></div>
<div id="seq_error"></div>
<pre>

      0                   1                   2                   3
      0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      | Code  |        Sequence       |            Taille             |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     
      </pre>
<p class="figure">Figure 4</p>
<p></p>
<p></p>

<dl>
<dt>Code (4 bits)</dt>
<dd style="margin-left: 8">
<br><br> Cod&#233; sur 4 bits il permet d'identifier les 14 diff&#233;rents types de paquets.  </dd>
</dl>

<p> </p>
<p></p>

<dl>
<dt>Sequence (12 bits)</dt>
<dd style="margin-left: 8">
<br><br> Numero de Permet d'identifier le type de paquet recu. Cod&#233; sur 4 bits il permet de d'envoyer 16 types de paquets diff&#233;rents.  </dd>
</dl>

<p> </p>
<p></p>

<dl>
<dt>Taille (16 bits)</dt>
<dd style="margin-left: 8">
<br><br> C'est la taille en bit de l'ensemble du message (c'est &#224; dire de tous les champs du paquet reunis).  </dd>
</dl>

<p> </p>
<p></p>

<dl>
<dt>SequenceAttendue (12 bits)</dt>
<dd style="margin-left: 8">
<br><br> Permet d'identifier le type de paquet recu. Cod&#233; sur 4 bits il permet de d'envoyer 16 types de paquets diff&#233;rents.  </dd>
</dl>

<p> </p>
<h1 id="rfc.section.4.3">
<a href="#rfc.section.4.3">4.3.</a> Demande de connexion</h1>
<p id="rfc.section.4.3.p.1">By default 3 levels of nesting show in table of contents but that can be adjusted with the value of the "tocdepth" processing instruction.</p>
<div id="rfc.figure.5"></div>
<div id="demande_co"></div>
<pre>

      0                   1                   2                   3
      0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      | Code  |        Sequence       |            Taille             |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |                             Temps                             |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |                                                               |
      .                            UserName                           .
      |                                                               |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      </pre>
<p class="figure">Figure 5</p>
<p></p>
<p></p>

<dl>
<dt>Code (4 bits)</dt>
<dd style="margin-left: 8">
<br><br> Cod&#233; sur 4 bits il permet d'identifier les 14 diff&#233;rents types de paquets.  </dd>
</dl>

<p> </p>
<p></p>

<dl>
<dt>Sequence (12 bits)</dt>
<dd style="margin-left: 8">
<br><br> Numero de Permet d'identifier le type de paquet recu. Cod&#233; sur 4 bits il permet de d'envoyer 16 types de paquets diff&#233;rents.  </dd>
</dl>

<p> </p>
<p></p>

<dl>
<dt>Taille (16 bits)</dt>
<dd style="margin-left: 8">
<br><br> C'est la taille en bit de l'ensemble du message (c'est &#224; dire de tous les champs du paquet reunis).  </dd>
</dl>

<p> </p>
<p></p>

<dl>
<dt>Temps (32 bits)</dt>
<dd style="margin-left: 8">
<br><br> Temps envoy&#233; par le client &#224; chaque interaction volantaire avec le server: Demande de connection, envoie de message Chat , Quitter un film, Demande Acces film.  Ce temps nous permet de mesurer le temps d'inactivit&#233; d'un client.  Comme dit plus haut un client inactif pendant 15 min se fera systematiquent deconnecter lorsqu'il est dans la Main Room, les clients dans les salles de film n'etant pas concerner.  Cela devrait permettre l'acces au service &#224; d'autre client.  </dd>
</dl>

<p> </p>
<p></p>

<dl>
<dt>Username (256 bits)</dt>
<dd style="margin-left: 8">
<br><br> Ce champs contient le Username du client. Tout les caracteres UTF-8 sont accept&#233;s.  Le Username du client est au maximun 256 bits une fois le UserName sous forme binaire.  </dd>
</dl>

<p> </p>
<h1 id="rfc.section.4.4">
<a href="#rfc.section.4.4">4.4.</a> Erreur de connexion</h1>
<p id="rfc.section.4.4.p.1">By default 3 levels of nesting show in table of contents but that can be adjusted with the value of the "tocdepth" processing instruction.</p>
<div id="rfc.figure.6"></div>
<div id="Erreur_co"></div>
<pre>

      0                   1                   2                   3
      0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      | Code  |        Sequence       |            Taille             |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |                                                               |
      .                        MessageErreur                          .
      |                                                               |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      </pre>
<p class="figure">Figure 6</p>
<p></p>
<p></p>

<dl>
<dt>Code (4 bits)</dt>
<dd style="margin-left: 8">
<br><br> Cod&#233; sur 4 bits il permet d'identifier les 14 diff&#233;rents types de paquets.  </dd>
</dl>

<p> </p>
<p></p>

<dl>
<dt>Sequence (12 bits)</dt>
<dd style="margin-left: 8">
<br><br> Numero de Permet d'identifier le type de paquet recu. Cod&#233; sur 4 bits il permet de d'envoyer 16 types de paquets diff&#233;rents.  </dd>
</dl>

<p> </p>
<p></p>

<dl>
<dt>Taille (16 bits)</dt>
<dd style="margin-left: 8">
<br><br> C'est la taille en bit de l'ensemble du message (c'est &#224; dire de tous les champs du paquet reunis).  </dd>
</dl>

<p> </p>
<p></p>

<dl>
<dt>MessageErreur (1024 bits)</dt>
<dd style="margin-left: 8">
<br><br> Ce champ contient un message &#224; afficher lors d'une erreur de connexion.  Le contenu du message permettra &#224; l'utilisateur de savoir avec exactitude La cause l'erreur. Le message est encod&#233; en UTF-8.  Suivant l'erreur sur le username le client saura que sont username est deja utilis&#233; , trop long ou n'est pas accept&#233; (Hitler, etc) </dd>
</dl>

<p> </p>
<h1 id="rfc.section.4.5">
<a href="#rfc.section.4.5">4.5.</a> Connexion Reussie</h1>
<p id="rfc.section.4.5.p.1">By default 3 levels of nesting show in table of contents but that can be adjusted with the value of the "tocdepth" processing instruction.</p>
<div id="rfc.figure.7"></div>
<div id="succed_co"></div>
<pre>

      0                   1                   2                   3
      0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      | Code  |        Sequence       |            Taille             |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |    IdUser   |
      +-+-+-+-+-+-+-+
       </pre>
<p class="figure">Figure 7</p>
<p></p>
<p></p>

<dl>
<dt>Code (4 bits)</dt>
<dd style="margin-left: 8">
<br><br> Cod&#233; sur 4 bits il permet d'identifier les 14 diff&#233;rents types de paquets.  </dd>
</dl>

<p> </p>
<p></p>

<dl>
<dt>Sequence (12 bits)</dt>
<dd style="margin-left: 8">
<br><br> Numero de Permet d'identifier le type de paquet recu. Cod&#233; sur 4 bits il permet de d'envoyer 16 types de paquets diff&#233;rents.  </dd>
</dl>

<p> </p>
<p></p>

<dl>
<dt>Taille (16 bits)</dt>
<dd style="margin-left: 8">
<br><br> C'est la taille en bit de l'ensemble du message (c'est &#224; dire de tous les champs du paquet reunis).  </dd>
</dl>

<p> </p>
<p></p>

<dl>
<dt>IdUser (7 bits)</dt>
<dd style="margin-left: 8">
<br><br> Ce champ contient  entre 0 et 127.  IdUser est attribu&#233; &#224; chaque client lors de sa connexion et doit permertre son identification client sans l'utilisation de son username afin de reduire la taille des paquets de communication.  </dd>
</dl>

<p> </p>
<h1 id="rfc.section.4.6">
<a href="#rfc.section.4.6">4.6.</a> Envoie liste des films</h1>
<p id="rfc.section.4.6.p.1">By default 3 levels of nesting show in table of contents but that can be adjusted with the value of the "tocdepth" processing instruction.</p>
<div id="rfc.figure.8"></div>
<div id="list_films"></div>
<pre>

      0                   1                   2                   3
      0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      | Code  |        Sequence       |            Taille             |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |                           AdresseIP                           |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |             NumPort           |                               |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+                               +
      |                            NomFilm                            |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |                           AdresseIP                           |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |             NumPort           |                               |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+                               +
      |                            NomFilm                            |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      .                                                               .
      .                                                               .
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      </pre>
<p class="figure">Figure 8</p>
<p></p>
<p></p>

<dl>
<dt>Code (4 bits)</dt>
<dd style="margin-left: 8">
<br><br> Cod&#233; sur 4 bits il permet d'identifier les 14 diff&#233;rents types de paquets.  </dd>
</dl>

<p> </p>
<p></p>

<dl>
<dt>Sequence (12 bits)</dt>
<dd style="margin-left: 8">
<br><br> Numero de Permet d'identifier le type de paquet recu. Cod&#233; sur 4 bits il permet de d'envoyer 16 types de paquets diff&#233;rents.  </dd>
</dl>

<p> </p>
<p></p>

<dl>
<dt>Taille (16 bits)</dt>
<dd style="margin-left: 8">
<br><br> C'est la taille en bit de l'ensemble du message (c'est &#224; dire de tous les champs du paquet reunis).  </dd>
</dl>

<p> </p>
<p></p>

<dl>
<dt>Adresse IP (32 bits)</dt>
<dd style="margin-left: 8">
<br><br> Permet d'identifier le type de paquet recu. Cod&#233; sur 4 bits il permet de d'envoyer 16 types de paquets diff&#233;rents.  </dd>
</dl>

<p> </p>
<p></p>

<dl>
<dt>NumPort (16 bits)</dt>
<dd style="margin-left: 8">
<br><br> Permet d'identifier le type de paquet recu. Cod&#233; sur 4 bits il permet de d'envoyer 16 types de paquets diff&#233;rents.  </dd>
</dl>

<p> </p>
<p></p>

<dl>
<dt>NomFilm (256 bits)</dt>
<dd style="margin-left: 8">
<br><br> Ce champ contient Le nom d'un film. Tous les carat&#232;res UTF-8 doivent etre accepter et le message codes sur 256 bits Le message doit s'afficher parmis les messages de chat mais etre vu Le champ Salle etant code sur 4 bits l'application doit dispose d'au maximun 15 films </dd>
</dl>

<p> </p>
<h1 id="rfc.section.4.7">
<a href="#rfc.section.4.7">4.7.</a> Envoie Liste des users</h1>
<p id="rfc.section.4.7.p.1">By default 3 levels of nesting show in table of contents but that can be adjusted with the value of the "tocdepth" processing instruction.</p>
<div id="rfc.figure.9"></div>
<div id="send_user"></div>
<pre>

      0                   1                   2                   3
      0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      | Code  |        Sequence       |            Taille             |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |    IdUser   | Salle |                                         |
      +-+-+-+-+-+-+-+-+-+-+-+      UserName                           .                             
      |                                                               |                             
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |    IdUser   | Salle |                                         |
      +-+-+-+-+-+-+-+-+-+-+-+      UserName                           .                             
      |                                                               |                             
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      .                                                               .
      .                                                               .
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
          
      </pre>
<p class="figure">Figure 9</p>
<p></p>
<p></p>

<dl>
<dt>Code (4 bits)</dt>
<dd style="margin-left: 8">
<br><br> Cod&#233; sur 4 bits il permet d'identifier les 14 diff&#233;rents types de paquets.  </dd>
</dl>

<p> </p>
<p></p>

<dl>
<dt>Sequence (12 bits)</dt>
<dd style="margin-left: 8">
<br><br> Numero de Permet d'identifier le type de paquet recu. Cod&#233; sur 4 bits il permet de d'envoyer 16 types de paquets diff&#233;rents.  </dd>
</dl>

<p> </p>
<p></p>

<dl>
<dt>Taille (16 bits)</dt>
<dd style="margin-left: 8">
<br><br> C'est la taille en bit de l'ensemble du message (c'est &#224; dire de tous les champs du paquet reunis).  </dd>
</dl>

<p> </p>
<p></p>

<dl>
<dt>IdUser (7 bits)</dt>
<dd style="margin-left: 8">
<br><br> Ce champ contient  entre 0 et 127.  IdUser est attribu&#233; &#224; chaque client lors de sa connexion et doit permertre son identification client sans l'utilisation de son username afin de reduire la taille des paquets de communication.  </dd>
</dl>

<p> </p>
<p></p>

<dl>
<dt>Salle (4 bits)</dt>
<dd style="margin-left: 8">
<br><br> Ce champ code sur 4 bits contient le numero d'une Salle.  0000 peut etre le numero pour designer la Main Room.  Chaque Films est aussi represent&#233; par sa salle (numero de salle :xxxx) Le champ salle doit permetre de localiser un client &#224; tout moment.  En d'autre terme chaque client est lier &#224; une salle qui permet au server de connaitre les desitinataires des messages envoy&#233;: MainRoom (Salle=0000) une salle de film (Salle !=0000) </dd>
</dl>

<p> </p>
<p></p>

<dl>
<dt>Username (256 bits)</dt>
<dd style="margin-left: 8">
<br> Ce champs contient le Username d'un client. Tout les caracteres UTF-8 sont accept&#233;s.  Le Username du client est cod&#233; sur 256 bits et doit respecter certaines contraintes lors de la connexion d'un client.  <ol>
<li>Le username doit pouvoir etre code sur 256 bits</li>
<li>Le Username choisit ne doit pas etre deja utilis&#233;</li>
<li>Le username ne doit pas figur&#233; parmis une liste de username jug&#233;s offenssant Exemple : Hitler, Merde,...</li>
</ol>
<p> </p>
</dd>
</dl>

<p> </p>
<h1 id="rfc.section.4.8">
<a href="#rfc.section.4.8">4.8.</a> Avertissement Inactivit&#233;</h1>
<p id="rfc.section.4.8.p.1">By default 3 levels of nesting show in table of contents but that can be adjusted with the value of the "tocdepth" processing instruction.</p>
<div id="rfc.figure.10"></div>
<div id="warning_inact"></div>
<pre>

      0                   1                   2                   3
      0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      | Code  |        Sequence       |            Taille             |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |                                                               |
      .                     AvertissementInactivit&#233;                   .                             
      |                                                               |                             
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     
      
            
      </pre>
<p class="figure">Figure 10</p>
<p></p>
<p></p>

<dl>
<dt>AvertissementInactivite (1024 bits)</dt>
<dd style="margin-left: 8">
<br><br> Ce champ contient un message avertissement le client qu'il sera deconnect&#233; dans 1 minute parce qu'il est inactif dans la MainRoom. Tous les carat&#232;res UTF-8 doivent etre accepter et le message codes sur 1024 bits Le message doit s'afficher parmis les messages de chat mais etre vu uniquement par le client concerne.  </dd>
</dl>

<p> </p>
<h1 id="rfc.section.4.9">
<a href="#rfc.section.4.9">4.9.</a> Avertissement SPAM</h1>
<p id="rfc.section.4.9.p.1">By default 3 levels of nesting show in table of contents but that can be adjusted with the value of the "tocdepth" processing instruction.</p>
<div id="rfc.figure.11"></div>
<div id="warning_spam"></div>
<pre>

      0                   1                   2                   3
      0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      | Code  |        Sequence       |            Taille             |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |                                                               |
      .                       AvertissementSPAM                       .                             
      |                                                               |                             
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     
      </pre>
<p class="figure">Figure 11</p>
<p></p>
<p></p>

<dl>
<dt>AvertissementSPAM (1024 bits)</dt>
<dd style="margin-left: 8">
<br><br> Ce champ contient un message avertissement le client qu'il sera deconnect&#233; dans 1 minute pour envoi repete de message (2 messages par seconde). Tous les carat&#232;res UTF-8 doivent etre accepter et le message codes sur 1024 bits Le message doit s'afficher parmis les messages de chat mais etre vu uniquement par le client concerne </dd>
</dl>

<p> </p>
<h1 id="rfc.section.4.10">
<a href="#rfc.section.4.10">4.10.</a> Demande Acc&#232;s film</h1>
<p id="rfc.section.4.10.p.1">By default 3 levels of nesting show in table of contents but that can be adjusted with the value of the "tocdepth" processing instruction.</p>
<div id="rfc.figure.12"></div>
<div id="acess_movie"></div>
<pre>

      0                   1                   2                   3
      0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      | Code  |        Sequence       |            Taille             |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |                             Temps                             |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      | Salle |                                                       |
      +-+-+-+-+                    NomFilm                            .                             
      |                                                               |                             
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
            
      
      </pre>
<p class="figure">Figure 12</p>
<p></p>
<p></p>

<dl>
<dt>Salle (4 bits)</dt>
<dd style="margin-left: 8">
<br><br> Ce champ code sur 4 bits contient le numero de salle de la Main Room.  En d'autre terme de la localisation du client au momment de la demande d'acces, soit Salle=0000 Tout comme pour l'envoi d'un message de Chat, ce numero de salle doit etre utiliser pour l'envoie de la liste des users actualis&#233; au clients situes dans la Main Room (salle 0000).  </dd>
</dl>

<p> </p>
<p></p>

<dl>
<dt>NomFilm (256 bits)</dt>
<dd style="margin-left: 8">
<br><br> Ce champ contient Le nom d'un film. Tous les carat&#232;res UTF-8 doivent etre accepter et le message codes sur 256 bits Le message doit s'afficher parmis les messages de chat mais etre vu Le champ Salle etant code sur 4 bits l'application doit dispose d'au maximun 15 films.  </dd>
</dl>

<p> </p>
<h1 id="rfc.section.4.11">
<a href="#rfc.section.4.11">4.11.</a> Envoie Message de Chat</h1>
<p id="rfc.section.4.11.p.1">By default 3 levels of nesting show in table of contents but that can be adjusted with the value of the "tocdepth" processing instruction.</p>
<div id="rfc.figure.13"></div>
<div id="send_msg"></div>
<pre>

      0                   1                   2                   3
      0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      | Code  |        Sequence       |            Taille             |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |                             Temps                             |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |    IdUser   | Salle |                                         |
      +-+-+-+-+-+-+-+-+-+-+-+      Message                            .                             
      |                                                               |                             
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
          
      </pre>
<p class="figure">Figure 13</p>
<p></p>
<p></p>

<dl>
<dt>Message (Taille variable)</dt>
<dd style="margin-left: 8">
<br><br> Ce champ contient un message de chat envoye par un client en destination des clients pr&#233;sents dans la meme salle que lui.  Tous les carat&#232;res UTF-8 doivent etre accepter et le taille du message doit etre variable.  Le message doit s'afficher uniquement chez les clients de cette salle.  </dd>
</dl>

<p> </p>
<h1 id="rfc.section.4.12">
<a href="#rfc.section.4.12">4.12.</a> Quitter la MainRoom</h1>
<p id="rfc.section.4.12.p.1">By default 3 levels of nesting show in table of contents but that can be adjusted with the value of the "tocdepth" processing instruction.</p>
<div id="rfc.figure.14"></div>
<div id="quit_MR"></div>
<pre>

      0                   1                   2                   3
      0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      | Code  |        Sequence       |            Taille             |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     
      </pre>
<p class="figure">Figure 14</p>
<p></p>
<h1 id="rfc.section.4.13">
<a href="#rfc.section.4.13">4.13.</a> Quitter un film</h1>
<p id="rfc.section.4.13.p.1">By default 3 levels of nesting show in table of contents but that can be adjusted with the value of the "tocdepth" processing instruction.</p>
<div id="rfc.figure.15"></div>
<div id="quit_movie"></div>
<pre>

      0                   1                   2                   3
      0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      | Code  |        Sequence       |            Taille             |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      | Salle |
      +-+-+-+-+      
      </pre>
<p class="figure">Figure 15</p>
<p></p>
<h1 id="rfc.section.4.14">
<a href="#rfc.section.4.14">4.14.</a> Message de deconnexion</h1>
<p id="rfc.section.4.14.p.1">By default 3 levels of nesting show in table of contents but that can be adjusted with the value of the "tocdepth" processing instruction.</p>
<div id="rfc.figure.16"></div>
<div id="msg_deco"></div>
<pre>

      0                   1                   2                   3
      0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      | Code  |        Sequence       |            Taille             |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |                                                               |
      .                    NotificationDeconnexion                    .                             
      |                                                               |                             
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 
      </pre>
<p class="figure">Figure 16</p>
<p></p>
<p></p>

<dl>
<dt>NotificationDeconnexion (1024 bits)</dt>
<dd style="margin-left: 8">
<br><br> Ce champ contient un message avertissement le client qu'il sera deconnect&#233; dans 1 minute pour envoi repete de message (2 messages par seconde). Tous les carat&#232;res UTF-8 doivent etre accepter et le message codes sur 1024 bits Le message doit s'afficher parmis les messages de chat mais etre vu uniquement par le client concerne </dd>
</dl>

<p> </p>
<h1 id="rfc.section.5">
<a href="#rfc.section.5">5.</a> Fiabilit&#233;</h1>
<h1 id="rfc.section.6">
<a href="#rfc.section.6">6.</a> Exemple de scenario</h1>
<h1 id="rfc.section.6.1">
<a href="#rfc.section.6.1">6.1.</a> Scenario sans erreur 1: Regarder un film</h1>
<p id="rfc.section.6.1.p.1">Dans ce scenario, nous allons expliciter la suite de messages envoyee entre un client et le serveur lorsque l'utilisateur veut regarder un film sur la plateforme. Nous irons de la connexion au service jusqu'a l'acces au film.  </p>
<pre>


                                          (salle               (salle 
                                        principale)              001)
Client A                Serveur           Client B             Client C          
  |                       |                   |                    |
  |      Demande de       |                   |                    |                     
  |      connexion        |                   |                    |
  |----------------------&gt;|                   |                    |
  |  (Le client demande   |                   |                    |
  |  l'acces au service)  |                   |                    |   
  |                       |                   |                    |
  |                       |                   |                    |
  |                       |                   |                    |
  |    Acquittement       |                   |                    |
  |&lt;----------------------|                   |                    |
  |  (Le serveur confirme |                   |                    |   
  |   avoir recu)         |                   |                    |
  |                       |                   |                    |
  |                       |                   |                    |
  |                       |                   |                    |
  |  Connexion reussie    |                   |                    |
  |&lt;-------------- -------|                   |                    |
  | (Le serveur connecte  |                   |                    |
  |       le client)      |                   |                    |
  |                       |                   |                    |
  |                       |                   |                    |
  |                       |                   |                    |
  |   Envoi liste des     |                   |                    |
  |        films          |                   |                    |
  |&lt;----------------------|                   |                    |
  |                       |                   |                    |
  |                       |                   |                    |
  |    Acquittement       |                   |                    |
  |----------------------&gt;|                   |                    |
  |                       |                   |                    |
  |                       |                   |                    |
  |                       |     Envoi liste   |                    |
  |   Envoi liste des     |  des utilisateurs |                    |
  |     utilisateurs      |------------------&gt;|                    |
  |&lt;----------------------|(le serveur actua- |                    |
  |                       |lise la liste des  |                    |
  |                       | clients connectes)|                    |
  |                       |                   |                    |
  |                       |                   |                    |
  |                       |                   |                    |
  |    Acquittement       |                   |                    |
  |----------------------&gt;|                   |                    |
  |                       |   Acquittement    |                    |
  |                       |&lt;------------------|                    |
  |                       |                   |                    |
  |                       |                   |                    |
  |                       |                   |                    |
  |  Demande acces film   |                   |                    |
  |----------------------&gt;|                   |                    |
  |                       |                   |                    |
  |                       |                   |                    |
  |    Acquittement       |                   |                    |
  |&lt;----------------------|                   |                    |
  |                       |                   |                    |
  |    Envoi liste        |                   |                    |
  | des utilisateurs      |                   |                    |
  |&lt;----------------------|                   |                    |
  |     (Utilisateurs     |                   |                    |
  | visionnant le meme    |                   |                    |
  |   film [salle @001])  |  Envoi liste des  |                    |
  |                       |    utilisateurs   |                    |
  |                       |------------------&gt;|                    |
  |                       | (le serveur actua-|                    |
  |                       | lise la liste des |                    |
  |                       | clients connectes)|                    |
  |                       |                   |                    |
  |                       | Envoi liste des   |                    |
  |                       |    utilisateurs   |                    |
  |                       |---------------------------------------&gt;|
  |    Acquittement       |                   |                    |
  |----------------------&gt;|                   |                    |
  |                       |   Acquittement    |                    |
  |                       |&lt;------------------|                    |
  |                       |                   |                    |
  |                       |                   |  Acquittement      |
  |                       |                   |&lt;-------------------|
  |                       |                   |                    |



    </pre>
<p></p>
<h1 id="rfc.section.6.2">
<a href="#rfc.section.6.2">6.2.</a> Scenario sans erreur 2: Chat dans une salle</h1>
<p id="rfc.section.6.2.p.1">Ce scenario decrit la suite de message envoyes dans le cas d'un envoi de messages dans une meme salle.  </p>
<pre>

Client A                Serveur           Client B             Client C          
  |                       |                   |                    |
  |      Envoi de         |                   |                    |                     
  |  message : "salut!"   |                   |                    |
  |----------------------&gt;|                   |                    |
  |  (Le client envoie    |                   |                    |
  | un message dans la    |                   |                    |
  |       salle)          |                   |                    |   
  |                       |                   |                    |
  |                       |                   |                    |
  |                       |                   |                    |
  |    Acquittement       |                   |                    |
  |&lt;----------------------|                   |                    |
  |                       |                   |                    | 
  |                       |     Envoi de      |                    |
  |                       | message : "salut!"|                    |
  |                       |------------------&gt;|                    |
  |                       |                   |                    |
  |                       |     Envoi de      |                    |
  |                       | message : "salut!"|                    |
  |                       |---------------------------------------&gt;|
  |      Envoi de         |                   |                    |                     
  |  message : "salut!"   |                   |                    |
  |&lt;----------------------|                   |                    |
  |    Acquittement       |                   |                    |
  |----------------------&gt;|                   |                    |
  |                       |   Acquittement    |                    |
  |                       |&lt;------------------|                    |
  |                       |                   |                    |
  |                       |                   |  Acquittement      |
  |                       |                   |&lt;-------------------|

    </pre>
<p></p>
<h1 id="rfc.section.6.3">
<a href="#rfc.section.6.3">6.3.</a> Scenario 3: Utilisateur inactif Dans la salle principale</h1>
<p id="rfc.section.6.3.p.1">Ce scenario decrit la suite de messages envoyes dans le cas ou un utilisateur est inactif dans la salle principale.  </p>
<pre>
MSG 1 from toto to titi

etc

You can also use a figure like this:

Client A                                Serveur           Client B
  | =====  Processus de connexion  =====   |                 |
  | =====     (cf. Scenario 1)     =====   |                 |
  | ==   (Temps d'inaction = 0 mn)   ==    |                 |
  .                                        .                 .
  .                                        .                 .
  | ==   (Temps d'inaction = 14 mn)   ==   |                 |
  |                                        |                 |
  |       Avertissement Inactivite         |                 |
  |&lt;---------------------------------------|                 |
  |  (Le serveur previent l'utilisateur)   |                 |
  |                                        |                 |
  |             Acquittement               |                 |
  |---------------------------------------&gt;|                 |
  .                                        .                 .
  | ==   (Temps d'inaction = 15 mn)   ==   |                 |
  |                                        |                 |
  |        Message de deconnexion          |                 |
  |&lt;---------------------------------------|                 |
  |                                        | Envoi liste des |
  |                                        |  utilisateurs   |
  |                                        |----------------&gt;|
  |             Acquittement               |                 |
  |---------------------------------------&gt;|                 |
  |                                        |                 |
  |                                        |   Acquittement  | 
  |                                        |&lt;----------------|
  |                                        |                 |
    </pre>
<p></p>
<h1 id="rfc.section.6.4">
<a href="#rfc.section.6.4">6.4.</a> Scenario sans erreur 4: Envoie de SPAM</h1>
<p id="rfc.section.6.4.p.1">Ce scenario decrit l'ensemble des messages echanges lorsque l'utilisateur envoie des messages a repetition dans le chat dans le but de nuire (SPAM). Le serveur va donc le deconnecter.  </p>
<pre>
Client A                Serveur           Client B             Client C          
  |                       |                   |                    |
  |      Envoi de         |                   |                    |                     
  |  message : "SPAM!"    |                   |                    |
  |----------------------&gt;|                   |                    |
  |  (Le client envoie    |                   |                    |
  | un message dans la    |                   |                    |
  |       salle)          |                   |                    |   
  |                       |                   |                    |
  |     Acquittement      |                   |                    |
  |&lt;----------------------|                   |                    |
  |                       |     Envoi de      |                    |
  |                       | message : "SPAM!" |                    |
  |                       |------------------&gt;|                    |
  |                       |                   |                    |
  |                       |     Envoi de      |                    |
  |                       | message : "SPAM!" |                    |
  |                       |---------------------------------------&gt;|
  |      Envoi de         |                   |                    |                     
  |  message : "SPAM"     |                   |                    |
  |&lt;----------------------|                   |                    |
  |    Acquittement       |                   |                    |
  |----------------------&gt;|                   |                    |
  |                       |   Acquittement    |                    |
  |                       |&lt;------------------|                    |
  |                       |                   |                    |
  |                       |                   |  Acquittement      |
  |                       |                   |&lt;-------------------|
  |      Envoi de         |                   |                    |                     
  |  message : "SPAM!"    |                   |                    |
  |----------------------&gt;|                   |                    |
  |     Acquittement      |                   |                    |
  |&lt;----------------------|                   |                    |
  |                       |     Envoi de      |                    |
  |                       | message : "SPAM!" |                    |
  |                       |------------------&gt;|                    |
  |                       |                   |                    |
  |                       |     Envoi de      |                    |
  |                       | message : "SPAM!" |                    |
  |                       |---------------------------------------&gt;|
  |      Envoi de         |                   |                    |                     
  |  message : "SPAM"     |                   |                    |
  |&lt;----------------------|                   |                    |
  |    Acquittement       |                   |                    |
  |----------------------&gt;|                   |                    |
  |                       |   Acquittement    |                    |
  |                       |&lt;------------------|                    |
  |                       |                   |                    |
  |                       |                   |  Acquittement      |
  |                       |                   |&lt;-------------------|
  |      Envoi de         |                   |                    |                     
  |  message : "SPAM!"    |                   |                    |
  |----------------------&gt;|                   |                    |
  .                       .                   .                    .
  .                       .                   .                    .
  .                       .                   .                    .
  |      Envoi de         |                   |                    |                     
  |  message : "SPAM!"    |                   |                    |
  |----------------------&gt;|                   |                    |
  |                       |                   |                    |
  |     Acquittement      |                   |                    |
  |&lt;----------------------|                   |                    |
  |                       |                   |                    |
  |   Avertissement SPAM  |                   |                    |
  |&lt;----------------------|                   |                    |
  |                       |                   |                    |
  |    Acquittement       |                   |                    |
  |----------------------&gt;|                   |                    |
  |                       |                   |                    |
  |                       |                   |                    |
  |      Envoi de         |                   |                    |                     
  |  message : "SPAM!"    |                   |                    |
  |----------------------&gt;|                   |                    |
  |                       |                   |                    |
  |     Acquittement      |                   |                    |
  |&lt;----------------------|                   |                    |
  |                       |                   |                    |
  |      Message de       |                   |                    |
  |     deconnexion       |                   |                    |
  |&lt;----------------------|                   |                    |
  | ("Vous allez etre     |                   |                    |
  |   deconnecte pour     |                   |                    |
  |       SPAM")          |  Envoi liste des  |                    |
  |                       |   utilisateurs    |                    |
  |                       |------------------&gt;|                    |
  |                       |                   |                    |
  |                       |  Envoi liste des  |                    |
  |                       |   utilisateurs    |                    |
  |                       |---------------------------------------&gt;|
  |    Acquittement       |                   |                    |
  |----------------------&gt;|                   |                    |
  |                       |   Acquittement    |                    |
  |                       |&lt;------------------|                    |
  |                       |                   |                    |
  |                       |                   |  Acquittement      |
  |                       |                   |&lt;-------------------|



    </pre>
<p></p>
<h1 id="rfc.section.6.5">
<a href="#rfc.section.6.5">6.5.</a> Scenario avec erreur : Quitter l'application</h1>
<p id="rfc.section.6.5.p.1">Dans ce scenario, nous allons simuler la suite de messages envoyes lorsque l'utilisateur veut quitter l'application. Cependant, nous ajouterons quelques erreurs qui peuvent arriver dans notre systeme et nous montrerons comment nous comptons les gerer.  </p>
<pre>

Client A                                       Serveur
  |                                               |
  |                                               |
  |                                               |
  |       Quitter un salon de film (Seq = 6)      |
  |-----------------------x                       |
  |                                               |
  |                                               |
  |                                               |
  |       Quitter un salon de film (Seq = 6)      |
  |----------------------------------------------&gt;|
  | (Le client, n'ayant pas recu l'acquittement   |
  |  attend 2 secondes et renvoie le meme message |
  | avec le meme numero de sequence au serveur)   |
  |                                               |
  |                                               |
  |               Acquittement                    |
  |                   x---------------------------|
  |     L'acquittement n'a pas atteint le         |
  |                   client)                     |
  |                                               |
  |                                               |
  |       Quitter un salon de film  (Seq = 6)     |
  |----------------------------------------------&gt;|
  | (Le client, n'ayant pas recu l'acquittement   |
  |  encore une fois attend 2 secondes et         |
  |            renvoie le meme message            |
  | avec le meme numero de sequence au serveur)   |
  |                                               |
  |                                               |
  |               Erreur de sequence              |
  |&lt;----------------------------------------------|
  |  (Le serveur signale au client qu'il a deja   |
  |   recu cette sequence, lui signalant ainsi    | 
  |      la reception du message precedent.      
  |    Le numero de sequence attendu etant        |
  |                le numero 7)                   |
  |                                               |
  |                                               |
  |              Acquittement   (Seq = 7)         |
  |----------------------------------------------&gt;|
  |                                               |
  |         ==== Deconnexion du client ====       |


    </pre>
<p></p>
<h1 id="rfc.section.7">
<a href="#rfc.section.7">7.</a> Conclusion</h1>
<p id="rfc.section.7.p.1">Chat While Watching est une application offrant aux utilisateurs un service de chat lorsque ceux-ci selectionnent le film qu'ils veulent regarder ou encore pendant le visionnage. En suivant le protocole enonce dans ce document, nous pensons que l'application peut garantir ce service de chat tout en gardant un certain confort et une bonne fiabilite.  </p>
<h1 id="rfc.authors"><a href="#rfc.authors">Authors' Addresses</a></h1>
<div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Claude KADJO MAMI</span> 
	  <span class="n hidden">
		<span class="family-name">KADJO MAMI</span>
	  </span>
	</span>
	<span class="org vcardline">Telecom Bretagne</span>
	<span class="adr">
	  <span class="vcardline">655, Avenue du Technopole</span>

	  <span class="vcardline">
		<span class="locality">Brest</span>,  
		<span class="region">Bretagne</span> 
		<span class="code">29280</span>
	  </span>
	  <span class="country-name vcardline">France</span>
	</span>
	<span class="vcardline">EMail: <a href="mailto:claude-yrvine-axel.kadjo-mami@imt-atlantique.net">claude-yrvine-axel.kadjo-mami@imt-atlantique.net</a></span>

  </address>
</div><div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Eric Xavier N'GUESSAN</span> 
	  <span class="n hidden">
		<span class="family-name">N'GUESSAN</span>
	  </span>
	</span>
	<span class="org vcardline">Telecom Bretagne</span>
	<span class="adr">
	  <span class="vcardline">655, Avenue du Technopole</span>

	  <span class="vcardline">
		<span class="locality">Brest</span>,  
		<span class="region">Bretagne</span> 
		<span class="code">29280</span>
	  </span>
	  <span class="country-name vcardline">France</span>
	</span>
	<span class="vcardline">EMail: <a href="mailto:eric-xavier.nguessan@imt-atlantique.net">eric-xavier.nguessan@imt-atlantique.net</a></span>

  </address>
</div>

</body>
</html>
